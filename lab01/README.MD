# dirwalk

`dirwalk` — это переносимая POSIX-программа на C, предназначенная для сканирования файловой системы и вывода информации в `stdout` в формате, аналогичном утилите `find`.

## Возможности
- Рекурсивный обход директорий
- Фильтрация файлов по типу (файлы, каталоги, символические ссылки)
- Сортировка выходных данных в соответствии с `LC_COLLATE`
- Обработка аргументов командной строки с помощью циклов `for`

## Формат запуска
```sh
dirwalk [dir] [options]
```
- `dir` — начальный каталог (если не указан, используется текущий `./`)
- `options` — список опций

## Опции
| Опция  | Описание                          | Аналог в `find` |
|--------|-----------------------------------|-----------------|
| `-l`   | Только символические ссылки      | `-type l`       |
| `-d`   | Только каталоги                  | `-type d`       |
| `-f`   | Только файлы                     | `-type f`       |
| `-s`   | Сортировка вывода (`LC_COLLATE`) |                 |

Опции могут быть указаны:
- Перед каталогом: `dirwalk -l -d /home`
- После каталога: `dirwalk /home -ld`
- Вместе: `dirwalk /home -ld`

Если опции `-l`, `-d`, `-f` не указаны, программа выводит **все** файлы, каталоги и ссылки.

## Установка
Для сборки проекта используется `Makefile`.
```sh
git clone https://github.com/hechert0/OSiS.git
cd OSiS/lab01
make
```

## Запуск
```sh
./build/release/dirwalk /path/to/dir -ld
```
Или через симлинк в `test/`:
```sh
./test/dirwalk-release /path/to/dir -f
```

## Режимы сборки
| Команда           | Описание                        |
|-------------------|--------------------------------|
| `make debug`     | Сборка debug-версии            |
| `make release`   | Сборка release-версии          |
| `make test`      | Создание симлинков в `test/`   |
| `make clean`     | Очистка собранных файлов       |

## Проверка на утечки памяти
Используется `valgrind`:
```sh
make memcheck
```

## Структура проекта
```
lab01/
├── src/            # Исходные файлы
├── build/          # Собранные файлы
│   ├── debug/      # Debug-сборка
│   ├── release/    # Release-сборка
├── test/           # Симлинки на исполняемые файлы
├── Makefile        # Файл сборки
└── README.md       # Этот файл
```

## Совместимость
Программа разработана в соответствии с POSIX-стандартами и **не использует специфичных возможностей Linux**. Должна работать на любых Unix-подобных системах.

## Авторы
- [hechert0](https://github.com/hechert0)

